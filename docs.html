<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/languages/javascript.min.js"></script>
    <link rel="stylesheet" href="styles/themecode.css" type="text/css"/>
</head>
<body>

<pre class="lang-js"><code>
    addEventListener('load', () => {
  const code = document.querySelector('#code');
  const worker = new Worker('worker.js');
  worker.onmessage = (event, aa) => { code.innerHTML = event.data; }
  worker.postMessage(code.textContent);
});
const story = {
  name: 'toggle',
  context: 'down',
  state: {
    up: {
      pop: 'down',
      message: 'gfhfgjfgj'
    },
    down: {
      pop: 'up',
      message: 'gfhfdgdgfsdgjfgj'
    },
    stop: {
    }
  }
}
eden.render()
/*
eden.build('wall', {
  coords: [{y: 3, x: 3}, {y: 3, x: 3}],
  color: 'gray'
})
*/
eden.spawn('tiger', {
    y: 5,
    x: 0,
    color: 'orange'
})
eden.spawn('meet', {
    y: eden.random(),
    x: eden.random(),
    color: 'red'
})
csm.on('up', () => {
  eden.move('tiger', (y, x) => {
  if (y === 0) csm.action('down')
   if (eden.sprite.meet.y > y) {
      csm.action('down')
    }
    if (eden.sprite.meet.y === y) {
      return false
    }
    console.log(eden.has('wall', 3, 0))
    return { y: y-1 }
  })
})

csm.on('down', () => {
  eden.move('tiger', (y, x) => {
    if (y === 9) csm.action('up')
    if (eden.sprite.meet.y < y) csm.action('up')
    if (eden.sprite.meet.y === y) {
      return false
    }
    return { y: y+1 }
  })
})

csm.create(story)

</code>
</pre>
<script>
  document.querySelectorAll('pre code').forEach(el => {
    hljs.highlightElement(el)
  })
</script>
</body>
</html>